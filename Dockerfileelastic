FROM elasticsearch:8.1.1

# Disable password creation for the Kibana plugin
ENV ELASTIC_PASSWORD=""

# Install the Kibana plugin for Elasticsearch
RUN bin/elasticsearch-setup-passwords install-kibana

# Copy the Kibana configuration file to the container
COPY kibana.yml /usr/share/kibana/config/kibana.yml

# Set the working directory in the container
WORKDIR /usr/share/kibana

# Expose the port that Kibana runs on
EXPOSE 5601

# Start Kibana
CMD ["bin/kibana"]
